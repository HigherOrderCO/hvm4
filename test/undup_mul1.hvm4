@Y    = λ&f. f(@Y(f))
@when = λ{0: λx. &{}; 1: λx. x}

@muln = λ&L. λf. λ{
  0n: 0n
  1n+: λx.
    ! f &(L) = f
    ! x &(L) = x
    &(L){
      f₀(x₀),
      1n+
        ! f &(L+1) = f₁
        ! x &(L+1) = x₁
        &(L+1){
          f₀(x₀),
          1n+f₁(x₁)
        }
    }
}

@main =
  ! &F = λF. @muln(1, F)
  @when(@Y(F)(1n) === 1n, [F])
//[λa.λ{0n:0n;1n+:λb.1n+a(b)}]
